# ğŸ¤– Modular AMR System â€“ ROS Simulation

<div align="center">

**æ¨¡çµ„åŒ–è‡ªä¸»ç§»å‹•æ©Ÿå™¨äººï¼ˆAMRï¼‰ç³»çµ±æ¨¡æ“¬å°ˆæ¡ˆ**

å±•ç¤ºå¤šç¯€é»å”ä½œã€äº‹ä»¶é©…å‹•æ§åˆ¶èˆ‡ä»»å‹™ç®¡ç†  
é©ç”¨æ–¼è‡ªå‹•å€‰å„²ã€ç‰©æµé…é€æˆ–å¤–éª¨éª¼è¼”å…·ç³»çµ±çš„æ¦‚å¿µé©—è­‰

[![ROS](https://img.shields.io/badge/ROS-Noetic-blue.svg)](http://wiki.ros.org/noetic)
[![Python](https://img.shields.io/badge/Python-3.8+-green.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

</div>

---

## ğŸ“‹ ç›®éŒ„

- [å°ˆæ¡ˆç°¡ä»‹](#-å°ˆæ¡ˆç°¡ä»‹)
- [ç³»çµ±æ¶æ§‹](#-ç³»çµ±æ¶æ§‹)
- [å°ˆæ¡ˆçµæ§‹](#-å°ˆæ¡ˆçµæ§‹)
- [å°ˆæ¡ˆç‰¹è‰²](#-å°ˆæ¡ˆç‰¹è‰²)
- [æŠ€è¡“äº®é»](#-æŠ€è¡“äº®é»)
- [åŠŸèƒ½å±•ç¤º](#-åŠŸèƒ½å±•ç¤º)
- [å®‰è£èˆ‡å•Ÿå‹•](#-å®‰è£èˆ‡å•Ÿå‹•)
- [ç¯€é»èªªæ˜](#-ç¯€é»èªªæ˜)
- [ç³»çµ±æ¶æ§‹è©³è§£](#-ç³»çµ±æ¶æ§‹è©³è§£)
- [é–‹ç™¼æŒ‡å—](#-é–‹ç™¼æŒ‡å—)
- [æœªä¾†æ“´å±•](#-æœªä¾†æ“´å±•æ–¹å‘)
- [å¸¸è¦‹å•é¡Œ](#-å¸¸è¦‹å•é¡Œ)
- [æˆæ¬Š](#-æˆæ¬Š)

---

## ğŸ¯ å°ˆæ¡ˆç°¡ä»‹

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹å®Œæ•´çš„ ROS æ¨¡æ“¬ç³»çµ±ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ Python èˆ‡ ROS å»ºæ§‹æ¨¡çµ„åŒ–çš„è‡ªä¸»ç§»å‹•æ©Ÿå™¨äººç³»çµ±ã€‚ç³»çµ±æ¡ç”¨äº‹ä»¶é©…å‹•æ¶æ§‹ï¼Œå„ç¯€é»é€é Topic é€²è¡Œé€šè¨Šï¼Œå¯¦ç¾æ„Ÿæ¸¬ã€å°èˆªã€ä»»å‹™ç®¡ç†ã€ç‹€æ…‹ç›£æ§èˆ‡è¦–è¦ºåŒ–çš„å®Œæ•´åŠŸèƒ½éˆã€‚

---

## ğŸ— ç³»çµ±æ¶æ§‹

æœ¬å°ˆæ¡ˆæ¡ç”¨**æ¨¡çµ„åŒ– ROS ç¯€é»æ¶æ§‹**ï¼Œå¯¦ç¾å¤šæ©Ÿå™¨äººå”åŒä½œæ¥­èˆ‡ä»»å‹™ç®¡ç†ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AMR Control System                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Sensor Node     â”‚ æ¨¡æ“¬ Lidar/Camera
         â”‚  /scan_data      â”‚ ç’°å¢ƒæ„Ÿæ¸¬è³‡æ–™ç™¼å¸ƒ
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Navigation Node  â”‚ A*/RRT è·¯å¾‘è¦åŠƒ
         â”‚  /cmd_vel        â”‚ é€Ÿåº¦æŒ‡ä»¤è¨ˆç®—
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Task Manager     â”‚ Pick & Place é‚è¼¯
         â”‚  /task_status    â”‚ ä»»å‹™åŸ·è¡Œç‹€æ…‹
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ State Monitor    â”‚ è¨­å‚™ç‹€æ…‹ç›£æ§
         â”‚  /alert          â”‚ ç•°å¸¸è­¦å ±ç™¼å¸ƒ
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Visualization    â”‚ RViz å³æ™‚é¡¯ç¤º
         â”‚                  â”‚ GUI è³‡æ–™å‘ˆç¾
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
AMR_ROS_System/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ sensor_node.py           # æ„Ÿæ¸¬å™¨æ¨¡æ“¬ç¯€é»
â”‚   â”œâ”€â”€ navigation_node.py       # å°èˆªèˆ‡è·¯å¾‘è¦åŠƒç¯€é»
â”‚   â”œâ”€â”€ task_manager_node.py     # ä»»å‹™ç®¡ç†ç¯€é»
â”‚   â”œâ”€â”€ state_monitor_node.py    # ç‹€æ…‹ç›£æ§ç¯€é»
â”‚   â””â”€â”€ visualization_node.py    # è¦–è¦ºåŒ–ç¯€é»
â”‚
â”œâ”€â”€ launch/
â”‚   â””â”€â”€ amr_system.launch        # ç³»çµ±å•Ÿå‹•æª”
â”‚
â”œâ”€â”€ rviz/
â”‚   â””â”€â”€ amr_display.rviz         # RViz é…ç½®æª”
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ system_params.yaml       # ç³»çµ±åƒæ•¸é…ç½®
â”‚
â”œâ”€â”€ README.md                     # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ requirements.txt              # Python ç›¸ä¾å¥—ä»¶
â””â”€â”€ LICENSE                       # æˆæ¬Šæ–‡ä»¶
```

---

## ğŸŒŸ å°ˆæ¡ˆç‰¹è‰²

### ğŸ§© æ¨¡çµ„åŒ–è¨­è¨ˆ

æ¡ç”¨å–®ä¸€è²¬ä»»åŸå‰‡ï¼Œæ¯å€‹ç¯€é»å°ˆæ³¨æ–¼ç‰¹å®šåŠŸèƒ½ï¼Œé™ä½è€¦åˆåº¦ä¸¦æå‡å¯ç¶­è­·æ€§ã€‚ç¯€é»ä¹‹é–“é€éæ¨™æº–åŒ–çš„ ROS Topic é€²è¡Œé€šè¨Šï¼Œå¯ç¨ç«‹é–‹ç™¼ã€æ¸¬è©¦èˆ‡éƒ¨ç½²ã€‚

**å„ªé»**ï¼š
- æ˜“æ–¼ç†è§£èˆ‡ç¶­è­·
- æ”¯æ´æ¼¸é€²å¼é–‹ç™¼
- ä¾¿æ–¼å–®å…ƒæ¸¬è©¦
- å¯å½ˆæ€§æ›¿æ›æ¨¡çµ„

### âš¡ äº‹ä»¶é©…å‹•æ¶æ§‹

ç³»çµ±æ¡ç”¨ Publisher/Subscriber æ¨¡å¼ï¼Œæ‰€æœ‰æ§åˆ¶æŒ‡ä»¤èˆ‡ç‹€æ…‹æ›´æ–°éƒ½æ˜¯äº‹ä»¶é©…å‹•çš„ã€‚ç•¶æ„Ÿæ¸¬å™¨åµæ¸¬åˆ°éšœç¤™ç‰©æ™‚ï¼Œå°èˆªç¯€é»æœƒç«‹å³é‡æ–°è¦åŠƒè·¯å¾‘ï¼›ç•¶ä»»å‹™å®Œæˆæ™‚ï¼Œç‹€æ…‹ç›£æ§ç¯€é»æœƒå³æ™‚æ›´æ–°ç³»çµ±ç‹€æ…‹ã€‚

**å„ªé»**ï¼š
- å³æ™‚å›æ‡‰ç’°å¢ƒè®ŠåŒ–
- éé˜»å¡å¼ç•°æ­¥è™•ç†
- é«˜æ•ˆèƒ½è³‡æ–™å‚³è¼¸
- æ”¯æ´é«˜é »ç‡æ§åˆ¶è¿´åœˆ

### ğŸ” å®Œæ•´çš„ç›£æ§æ©Ÿåˆ¶

ç‹€æ…‹ç›£æ§ç¯€é»æœƒæŒçºŒè¿½è¹¤ç³»çµ±å„é …æŒ‡æ¨™ï¼ŒåŒ…æ‹¬æ©Ÿå™¨äººé›»é‡ã€é¦¬é”æº«åº¦ã€ä»»å‹™åŸ·è¡Œé€²åº¦ã€ç•°å¸¸äº‹ä»¶ç­‰ã€‚ç•¶åµæ¸¬åˆ°ç•°å¸¸ç‹€æ³æ™‚ï¼Œæœƒç«‹å³ç™¼å¸ƒè­¦å ±ä¸¦è¨˜éŒ„æ—¥èªŒã€‚

**ç›£æ§é …ç›®**ï¼š
- é›»é‡ç‹€æ…‹èˆ‡é ä¼°çºŒèˆªæ™‚é–“
- é¦¬é”æº«åº¦èˆ‡è² è¼‰ç‹€æ³
- ä»»å‹™åŸ·è¡Œé€²åº¦èˆ‡æˆåŠŸç‡
- é€šè¨Šé€£ç·šç‹€æ…‹
- ç·Šæ€¥åœæ­¢è§¸ç™¼äº‹ä»¶

### ğŸ”Œ ç¡¬é«”æ“´å±•æ€§

é›–ç„¶ç›®å‰æ˜¯æ¨¡æ“¬ç³»çµ±ï¼Œä½†æ¶æ§‹è¨­è¨ˆè€ƒæ…®äº†çœŸå¯¦ç¡¬é«”çš„æ•´åˆéœ€æ±‚ã€‚æ„Ÿæ¸¬å™¨ç¯€é»å¯è¼•é¬†æ›¿æ›ç‚ºçœŸå¯¦çš„ Lidar æˆ– Camera é©…å‹•ï¼›å°èˆªç¯€é»å¯å°æ¥å¯¦éš›çš„é¦¬é”æ§åˆ¶å™¨ã€‚

**æ”¯æ´ç¡¬é«”**ï¼š
- Lidar (Sick, Hokuyo, Velodyne)
- æ·±åº¦ç›¸æ©Ÿ (RealSense, Kinect)
- è¼ªå¼åº•ç›¤ (å·®é€Ÿã€éº¥å…‹ç´å§†è¼ª)
- æ©Ÿæ¢°æ‰‹è‡‚ (UR, ABB)

---

## ğŸ’¡ æŠ€è¡“äº®é»

### ROS Framework

**Publisher/Subscriber æ¶æ§‹** - ä½¿ç”¨ ROS çš„æ ¸å¿ƒé€šè¨Šæ©Ÿåˆ¶ï¼Œå¯¦ç¾ç¯€é»ä¹‹é–“çš„é¬†è€¦åˆè³‡æ–™äº¤æ›ã€‚æ¯å€‹ç¯€é»å¯ä»¥ç™¼å¸ƒå¤šå€‹ Topicï¼Œä¹Ÿå¯ä»¥è¨‚é–±å¤šå€‹ Topicï¼Œå½¢æˆè¤‡é›œçš„è³‡æ–™æµç¶²è·¯ã€‚

**Topic é€šè¨Šæ©Ÿåˆ¶** - å®šç¾©äº†æ¨™æº–åŒ–çš„è¨Šæ¯æ ¼å¼ï¼ˆsensor_msgsã€geometry_msgsã€std_msgsï¼‰ï¼Œç¢ºä¿ä¸åŒç¯€é»ä¹‹é–“çš„è³‡æ–™ç›¸å®¹æ€§ã€‚æ”¯æ´åŒæ­¥èˆ‡éåŒæ­¥é€šè¨Šæ¨¡å¼ã€‚

**Node æ¨¡çµ„åŒ–è¨­è¨ˆ** - æ¯å€‹ Python æª”æ¡ˆå°±æ˜¯ä¸€å€‹ç¨ç«‹çš„ ROS ç¯€é»ï¼Œå¯ä»¥å–®ç¨åŸ·è¡Œèˆ‡æ¸¬è©¦ã€‚é€é launch æª”æ¡ˆçµ±ä¸€ç®¡ç†ç¯€é»çš„å•Ÿå‹•èˆ‡åƒæ•¸é…ç½®ã€‚

**Launch ç³»çµ±** - ä½¿ç”¨ XML æ ¼å¼çš„ launch æª”æ¡ˆï¼Œå¯ä»¥ä¸€æ¬¡å•Ÿå‹•æ‰€æœ‰ç¯€é»ï¼Œä¸¦è¨­å®šåƒæ•¸ã€å‘½åç©ºé–“ã€é‡æ˜ å°„ç­‰é€²éšåŠŸèƒ½ã€‚

### Python Development

**å¿«é€Ÿé–‹ç™¼æ•´åˆ** - ä½¿ç”¨ Python ä½œç‚ºä¸»è¦é–‹ç™¼èªè¨€ï¼Œæ­é… rospy å‡½å¼åº«ï¼Œå¯ä»¥å¿«é€Ÿå¯¦ç¾è¤‡é›œçš„æ§åˆ¶é‚è¼¯èˆ‡æ¼”ç®—æ³•ã€‚

**è³‡æ–™è™•ç†èˆ‡æ§åˆ¶** - æ•´åˆ NumPyã€SciPy ç­‰ç§‘å­¸è¨ˆç®—åº«ï¼Œå¯¦ç¾è·¯å¾‘è¦åŠƒæ¼”ç®—æ³•ï¼ˆA*ã€RRTï¼‰ã€æ„Ÿæ¸¬å™¨è³‡æ–™æ¿¾æ³¢ã€åº§æ¨™è½‰æ›ç­‰åŠŸèƒ½ã€‚

**è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬** - ä½¿ç”¨ pytest æ¡†æ¶æ’°å¯«å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦ï¼Œç¢ºä¿æ¯å€‹ç¯€é»çš„åŠŸèƒ½æ­£ç¢ºæ€§ã€‚æ”¯æ´ CI/CD æ•´åˆã€‚

### Robot System

**å¤šæ¨¡çµ„è¨Šæ¯æ•´åˆ** - ç³»çµ±å¯ä»¥åŒæ™‚è™•ç†ä¾†è‡ªå¤šå€‹æ„Ÿæ¸¬å™¨çš„è³‡æ–™ï¼Œä¸¦æ•´åˆç‚ºä¸€è‡´çš„ä¸–ç•Œåº§æ¨™ç³»è¡¨ç¤ºã€‚æ”¯æ´å¤šæ©Ÿå™¨äººå”åŒä½œæ¥­ã€‚

**äº‹ä»¶é©…å‹•æ¶æ§‹** - æ¡ç”¨å›å‘¼å‡½æ•¸ï¼ˆCallbackï¼‰æ©Ÿåˆ¶ï¼Œç•¶è¨‚é–±çš„ Topic æœ‰æ–°è¨Šæ¯æ™‚è‡ªå‹•è§¸ç™¼è™•ç†é‚è¼¯ï¼Œå¯¦ç¾çœŸæ­£çš„å³æ™‚æ§åˆ¶ã€‚

**å³æ™‚æ§åˆ¶ç³»çµ±** - å°èˆªç¯€é»ä»¥ 10Hz é »ç‡æ›´æ–°é€Ÿåº¦æŒ‡ä»¤ï¼Œç¢ºä¿æ©Ÿå™¨äººèƒ½å¤ å¹³æ»‘é‹å‹•ã€‚æ”¯æ´å‹•æ…‹èª¿æ•´æ§åˆ¶åƒæ•¸ã€‚

### Real Hardware Ready

**Lidar æ•´åˆ** - æ„Ÿæ¸¬å™¨ç¯€é»é ç•™äº†çœŸå¯¦ Lidar çš„ä»‹é¢ï¼Œåªéœ€ä¿®æ”¹å°‘é‡ç¨‹å¼ç¢¼å³å¯åˆ‡æ›åˆ°å¯¦éš›ç¡¬é«”ã€‚

**é¦¬é”æ§åˆ¶å™¨å°æ¥** - å°èˆªç¯€é»è¼¸å‡ºçš„ `/cmd_vel` Topic ç¬¦åˆæ¨™æº–æ ¼å¼ï¼Œå¯ç›´æ¥é€£æ¥å·®é€Ÿåº•ç›¤æˆ–å…¨å‘è¼ªåº•ç›¤ã€‚

**å·¥æ¥­é€šè¨Šå”å®š** - æ”¯æ´ Modbusã€EtherCAT ç­‰å·¥æ¥­é€šè¨Šå”å®šï¼Œå¯èˆ‡ PLCã€AGV æ§åˆ¶å™¨é€²è¡Œè³‡æ–™äº¤æ›ã€‚

---

## âš™ åŠŸèƒ½å±•ç¤º

### æ ¸å¿ƒåŠŸèƒ½

**å¤šå° AGV/AMR å”åŒé‹ä½œ**  
ç³»çµ±æ”¯æ´å¤šæ©Ÿå™¨äººåŒæ™‚é‹è¡Œï¼Œæ¯å€‹æ©Ÿå™¨äººéƒ½æœ‰ç¨ç«‹çš„å‘½åç©ºé–“ã€‚é€éä»»å‹™ç®¡ç†ç¯€é»é€²è¡Œå·¥ä½œåˆ†é…ï¼Œé¿å…è·¯å¾‘è¡çªä¸¦æœ€ä½³åŒ–æ•´é«”æ•ˆç‡ã€‚å¯æ¨¡æ“¬å€‰å„²å ´æ™¯ä¸­çš„å¤šè»Šå”åŒæ¬é‹ä»»å‹™ã€‚

**ä»»å‹™åˆ†é…èˆ‡ Pick & Place**  
ä»»å‹™ç®¡ç†ç¯€é»æœƒæ ¹æ“šæ©Ÿå™¨äººçš„ç•¶å‰ä½ç½®ã€é›»é‡ç‹€æ…‹ã€ä»»å‹™å„ªå…ˆç´šç­‰å› ç´ ï¼Œæ™ºæ…§åˆ†é…å–è²¨é»ï¼ˆPickï¼‰èˆ‡æ”¾è²¨é»ï¼ˆPlaceï¼‰ã€‚æ”¯æ´å‹•æ…‹ä»»å‹™æ’å…¥èˆ‡ä»»å‹™å–æ¶ˆåŠŸèƒ½ã€‚

**è·¯å¾‘è¦åŠƒèˆ‡é¿éšœ**  
å°èˆªç¯€é»ä½¿ç”¨ A* æ¼”ç®—æ³•é€²è¡Œå…¨åŸŸè·¯å¾‘è¦åŠƒï¼Œä¸¦çµåˆå±€éƒ¨è·¯å¾‘è¦åŠƒå™¨é€²è¡Œå‹•æ…‹é¿éšœã€‚ç•¶åµæ¸¬åˆ°ç§»å‹•éšœç¤™ç‰©æ™‚ï¼Œæœƒå³æ™‚é‡æ–°è¨ˆç®—è·¯å¾‘ï¼Œç¢ºä¿å®‰å…¨é€šè¡Œã€‚

**è¨­å‚™ç‹€æ…‹ç®¡ç†**  
ç‹€æ…‹ç›£æ§ç¯€é»æœƒæŒçºŒè¿½è¹¤æ©Ÿå™¨äººçš„å„é …æŒ‡æ¨™ã€‚é›»é‡ä½æ–¼ 20% æ™‚æœƒç™¼å‡ºè­¦å‘Šä¸¦è‡ªå‹•å°èˆªè‡³å……é›»ç«™ï¼›æº«åº¦éé«˜æ™‚æœƒé™ä½é‹å‹•é€Ÿåº¦ï¼›è¼‰é‡è¶…éé–¾å€¼æ™‚æœƒæ‹’çµ•æ–°ä»»å‹™ã€‚

**RViz/GUI è¦–è¦ºåŒ–**  
è¦–è¦ºåŒ–ç¯€é»æœƒå°‡æ‰€æœ‰è³‡æ–™æ•´åˆåˆ° RViz ä¸­é¡¯ç¤ºã€‚å¯ä»¥çœ‹åˆ°æ©Ÿå™¨äººçš„ 3D æ¨¡å‹ã€æ„Ÿæ¸¬å™¨æƒæé»é›²ã€è¦åŠƒçš„è·¯å¾‘è»Œè·¡ã€ç•¶å‰ä»»å‹™ç‹€æ…‹ç­‰è³‡è¨Šã€‚æ”¯æ´å³æ™‚èª¿æ•´åƒæ•¸èˆ‡æ‰‹å‹•æ§åˆ¶ã€‚

### é€²éšåŠŸèƒ½

**å……é›»ç«™è‡ªå‹•è¿”èˆª** - é›»é‡ä¸è¶³æ™‚è‡ªå‹•æš«åœä»»å‹™ä¸¦å°èˆªè‡³æœ€è¿‘çš„å……é›»ç«™

**å¤šæ¨“å±¤é›»æ¢¯æ•´åˆ** - å¯æ¨¡æ“¬é›»æ¢¯å‘¼å«èˆ‡æ¨“å±¤åˆ‡æ›æµç¨‹

**ä»»å‹™å„ªå…ˆç´šæ’ç¨‹** - æ”¯æ´ç·Šæ€¥ä»»å‹™æ’éšŠèˆ‡ä½å„ªå…ˆç´šä»»å‹™å»¶é²åŸ·è¡Œ

**æ•…éšœè‡ªå‹•å¾©åŸ** - åµæ¸¬åˆ°é€šè¨Šä¸­æ–·æˆ–æ„Ÿæ¸¬å™¨æ•…éšœæ™‚å•Ÿå‹•å®‰å…¨æ¨¡å¼

---

## ğŸš€ å®‰è£èˆ‡å•Ÿå‹•

### å‰ç½®éœ€æ±‚

**ä½œæ¥­ç³»çµ±**ï¼šUbuntu 20.04 LTSï¼ˆæ¨è–¦ï¼‰æˆ– Ubuntu 18.04 LTS

**ROS ç‰ˆæœ¬**ï¼šROS Noeticï¼ˆUbuntu 20.04ï¼‰æˆ– ROS Melodicï¼ˆUbuntu 18.04ï¼‰

**Python ç‰ˆæœ¬**ï¼šPython 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬

**ç¡¬é«”éœ€æ±‚**ï¼š
- CPUï¼šIntel i5 æˆ–åŒç­‰ç´šä»¥ä¸Š
- RAMï¼š8GB ä»¥ä¸Šï¼ˆåŸ·è¡Œ RViz è¦–è¦ºåŒ–ï¼‰
- ç¡¬ç¢Ÿç©ºé–“ï¼š10GB ä»¥ä¸Š

### å®‰è£æ­¥é©Ÿ

**1. å®‰è£ ROS Noetic**

å¦‚æœå°šæœªå®‰è£ ROSï¼Œè«‹åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼š[ROS Noetic Installation](http://wiki.ros.org/noetic/Installation/Ubuntu)

```bash
# å¿«é€Ÿå®‰è£æŒ‡ä»¤ï¼ˆUbuntu 20.04ï¼‰
sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'
sudo apt install curl
curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -
sudo apt update
sudo apt install ros-noetic-desktop-full
```

**2. å…‹éš†å°ˆæ¡ˆ**

```bash
cd ~
git clone https://github.com/yourusername/AMR_ROS_System.git
cd AMR_ROS_System
```

**3. å»ºç«‹ ROS Workspace**

```bash
mkdir -p ~/catkin_ws/src
cd ~/catkin_ws/src
ln -s ~/AMR_ROS_System ./
cd ~/catkin_ws
catkin_make
source devel/setup.bash
```

**4. å®‰è£ Python ç›¸ä¾å¥—ä»¶**

```bash
cd ~/AMR_ROS_System
pip3 install -r requirements.txt
```

**5. è¨­å®šåŸ·è¡Œæ¬Šé™**

```bash
chmod +x src/*.py
```

### å•Ÿå‹•ç³»çµ±

**æ–¹æ³• 1ï¼šä½¿ç”¨ Launch æª”æ¡ˆå•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰**

```bash
source ~/catkin_ws/devel/setup.bash
roslaunch AMR_ROS_System amr_system.launch
```

**æ–¹æ³• 2ï¼šå€‹åˆ¥å•Ÿå‹•ç¯€é»ï¼ˆé™¤éŒ¯ç”¨ï¼‰**

é–‹å•Ÿ 5 å€‹çµ‚ç«¯åˆ†åˆ¥åŸ·è¡Œï¼š

```bash
# Terminal 1: ROS Master
roscore

# Terminal 2: Sensor Node
rosrun AMR_ROS_System sensor_node.py

# Terminal 3: Navigation Node
rosrun AMR_ROS_System navigation_node.py

# Terminal 4: Task Manager
rosrun AMR_ROS_System task_manager_node.py

# Terminal 5: State Monitor
rosrun AMR_ROS_System state_monitor_node.py
```

**å•Ÿå‹• RViz è¦–è¦ºåŒ–**

```bash
# æ–°é–‹çµ‚ç«¯
rosrun rviz rviz -d ~/AMR_ROS_System/rviz/amr_display.rviz
```

### å¿«é€Ÿæ¸¬è©¦

**ç™¼é€æ¸¬è©¦ä»»å‹™**

```bash
# ç™¼é€ Pick ä»»å‹™
rostopic pub /task_command std_msgs/String "data: 'PICKUP_A1'"

# ç™¼é€ Place ä»»å‹™
rostopic pub /task_command std_msgs/String "data: 'PLACE_B2'"
```

**æŸ¥çœ‹ç³»çµ±ç‹€æ…‹**

```bash
# æŸ¥çœ‹æ‰€æœ‰ Topic
rostopic list

# å³æ™‚ç›£æ§ä»»å‹™ç‹€æ…‹
rostopic echo /task_status

# æŸ¥çœ‹æ„Ÿæ¸¬å™¨è³‡æ–™
rostopic echo /scan_data

# æŸ¥çœ‹é€Ÿåº¦æŒ‡ä»¤
rostopic echo /cmd_vel
```

**æŸ¥çœ‹ç¯€é»é€£ç·šç‹€æ³**

```bash
# é¡¯ç¤ºç¯€é»é—œä¿‚åœ–
rosrun rqt_graph rqt_graph

# åˆ—å‡ºæ‰€æœ‰é‹è¡Œä¸­çš„ç¯€é»
rosnode list

# æŸ¥çœ‹ç‰¹å®šç¯€é»è³‡è¨Š
rosnode info /navigation_node
```

---

## ğŸ“Š ç¯€é»èªªæ˜

### Sensor Node (sensor_node.py)

**åŠŸèƒ½**ï¼šæ¨¡æ“¬ Lidar æ„Ÿæ¸¬å™¨ï¼Œç”¢ç”Ÿç’°å¢ƒæƒæè³‡æ–™

**ç™¼å¸ƒ Topic**ï¼š
- `/scan_data` (sensor_msgs/LaserScan) - 360åº¦é›·å°„æƒæè³‡æ–™

**åƒæ•¸**ï¼š
- `scan_rate`: æƒæé »ç‡ï¼ˆé è¨­ 10Hzï¼‰
- `max_range`: æœ€å¤§åµæ¸¬è·é›¢ï¼ˆé è¨­ 10mï¼‰
- `min_range`: æœ€å°åµæ¸¬è·é›¢ï¼ˆé è¨­ 0.1mï¼‰

**æ¨¡æ“¬å…§å®¹**ï¼š
- éœæ…‹éšœç¤™ç‰©ï¼ˆç‰†å£ã€æŸ±å­ï¼‰
- å‹•æ…‹éšœç¤™ç‰©ï¼ˆç§»å‹•ç‰©é«”ï¼‰
- æ„Ÿæ¸¬å™¨é›œè¨Šï¼ˆé«˜æ–¯é›œè¨Šï¼‰

---

### Navigation Node (navigation_node.py)

**åŠŸèƒ½**ï¼šè·¯å¾‘è¦åŠƒèˆ‡é€Ÿåº¦æ§åˆ¶

**è¨‚é–± Topic**ï¼š
- `/scan_data` (sensor_msgs/LaserScan) - æ„Ÿæ¸¬å™¨è³‡æ–™
- `/goal_pose` (geometry_msgs/PoseStamped) - ç›®æ¨™ä½ç½®

**ç™¼å¸ƒ Topic**ï¼š
- `/cmd_vel` (geometry_msgs/Twist) - é€Ÿåº¦æ§åˆ¶æŒ‡ä»¤

**æ¼”ç®—æ³•**ï¼š
- A* å…¨åŸŸè·¯å¾‘è¦åŠƒ
- DWA å±€éƒ¨è·¯å¾‘è¦åŠƒ
- PID é€Ÿåº¦æ§åˆ¶å™¨

---

### Task Manager Node (task_manager_node.py)

**åŠŸèƒ½**ï¼šä»»å‹™æ’ç¨‹èˆ‡åŸ·è¡Œç®¡ç†

**è¨‚é–± Topic**ï¼š
- `/task_command` (std_msgs/String) - ä»»å‹™æŒ‡ä»¤
- `/cmd_vel` (geometry_msgs/Twist) - é€Ÿåº¦è³‡è¨Š

**ç™¼å¸ƒ Topic**ï¼š
- `/task_status` (std_msgs/String) - ä»»å‹™ç‹€æ…‹
- `/goal_pose` (geometry_msgs/PoseStamped) - å°èˆªç›®æ¨™

**ä»»å‹™é¡å‹**ï¼š
- PICKUP: å‰å¾€å–è²¨é»
- PLACE: å‰å¾€æ”¾è²¨é»
- CHARGE: å‰å¾€å……é›»ç«™
- IDLE: å¾…å‘½ç‹€æ…‹

---

### State Monitor Node (state_monitor_node.py)

**åŠŸèƒ½**ï¼šç³»çµ±ç‹€æ…‹ç›£æ§èˆ‡ç•°å¸¸åµæ¸¬

**è¨‚é–± Topic**ï¼š
- `/task_status` (std_msgs/String) - ä»»å‹™ç‹€æ…‹
- `/battery_level` (std_msgs/Float32) - é›»é‡è³‡è¨Š

**ç™¼å¸ƒ Topic**ï¼š
- `/alert` (std_msgs/String) - è­¦å ±è¨Šæ¯
- `/system_health` (std_msgs/String) - ç³»çµ±å¥åº·åº¦

**ç›£æ§é …ç›®**ï¼š
- é›»é‡ç›£æ§ï¼ˆä½æ–¼20%è­¦å‘Šï¼‰
- é€šè¨Šé€£ç·šç‹€æ…‹
- ä»»å‹™åŸ·è¡Œæ™‚é–“
- ç¯€é»å›æ‡‰ç‹€æ…‹

---

### Visualization Node (visualization_node.py)

**åŠŸèƒ½**ï¼šè³‡æ–™æ•´åˆèˆ‡è¦–è¦ºåŒ–

**è¨‚é–± Topic**ï¼š
- `/scan_data` - æ„Ÿæ¸¬å™¨è³‡æ–™
- `/task_status` - ä»»å‹™ç‹€æ…‹
- `/cmd_vel` - é€Ÿåº¦æŒ‡ä»¤

**ç™¼å¸ƒ Topic**ï¼š
- `/visualization_marker` (visualization_msgs/Marker) - RViz æ¨™è¨˜

**é¡¯ç¤ºå…§å®¹**ï¼š
- æ©Ÿå™¨äººä½ç½®èˆ‡æœå‘
- æ„Ÿæ¸¬å™¨æƒæé»é›²
- è¦åŠƒè·¯å¾‘è»Œè·¡
- ä»»å‹™åŸ·è¡Œç‹€æ…‹

---

## ğŸ”® æœªä¾†æ“´å±•æ–¹å‘

**ç¡¬é«”æ•´åˆæ“´å±•**
- [ ] æ•´åˆçœŸå¯¦ Lidar æ„Ÿæ¸¬å™¨ï¼ˆSick TiM561ï¼‰
- [ ] å°æ¥å·®é€Ÿåº•ç›¤é¦¬é”æ§åˆ¶å™¨
- [ ] åŠ å…¥ IMU æ…£æ€§æ¸¬é‡å–®å…ƒ
- [ ] æ•´åˆæ·±åº¦ç›¸æ©Ÿé€²è¡Œ 3D å»ºåœ–

**æ¼”ç®—æ³•å„ªåŒ–**
- [ ] ä½¿ç”¨ RRT* å–ä»£ A* æå‡è·¯å¾‘å“è³ª
- [ ] åŠ å…¥ Hybrid A* æ”¯æ´è»Šè¼›é‹å‹•å­¸
- [ ] æ•´åˆæ·±åº¦å­¸ç¿’é€²è¡Œéšœç¤™ç‰©è­˜åˆ¥
- [ ] å¯¦ç¾å¤šæ©Ÿå™¨äººè·¯å¾‘è¡çªè§£æ±º

**åŠŸèƒ½æ“´å±•**
- [ ] SLAM å³æ™‚å®šä½èˆ‡åœ°åœ–å»ºæ§‹
- [ ] å¤šæ¨“å±¤é›»æ¢¯å°èˆªç³»çµ±
- [ ] è‡ªå‹•å……é›»ç«™å°æ¥åŠŸèƒ½
- [ ] Web é ç«¯ç›£æ§ä»‹é¢

**ç³»çµ±æ•´åˆ**
- [ ] èˆ‡ IoT å¹³å°æ•´åˆï¼ˆMQTTã€HTTP APIï¼‰
- [ ] é€£æ¥ WMS å€‰å„²ç®¡ç†ç³»çµ±
- [ ] æ•´åˆæ©Ÿæ¢°æ‰‹è‡‚é€²è¡ŒæŠ“å–ä½œæ¥­
- [ ] æ”¯æ´ ROS 2 Humble ç‰ˆæœ¬

---

## ğŸ›  é–‹ç™¼æŒ‡å—

### æ–°å¢è‡ªå®šç¾©ç¯€é»

1. åœ¨ `src/` ç›®éŒ„å»ºç«‹æ–°çš„ Python æª”æ¡ˆ
2. åŒ¯å…¥å¿…è¦çš„ ROS å‡½å¼åº«
3. å®šç¾© Publisher èˆ‡ Subscriber
4. å¯¦ä½œä¸»è¦é‚è¼¯
5. åœ¨ launch æª”æ¡ˆä¸­åŠ å…¥æ–°ç¯€é»

### ä¿®æ”¹ç³»çµ±åƒæ•¸

ç·¨è¼¯ `config/system_params.yaml` æª”æ¡ˆèª¿æ•´åƒæ•¸ï¼š

```yaml
navigation:
  max_speed: 1.0
  max_angular_speed: 1.57
  
sensor:
  scan_rate: 10
  max_range: 10.0
```

### é™¤éŒ¯æŠ€å·§

**æŸ¥çœ‹ç¯€é»æ—¥èªŒ**

```bash
rosnode list
rosrun rqt_console rqt_console
```

**éŒ„è£½èˆ‡å›æ”¾è³‡æ–™**

```bash
# éŒ„è£½æ‰€æœ‰ Topic
rosbag record -a

# å›æ”¾éŒ„è£½çš„è³‡æ–™
rosbag play your_bag_file.bag
```

---

## â“ å¸¸è¦‹å•é¡Œ

**Q: åŸ·è¡Œ roslaunch æ™‚é¡¯ç¤ºæ‰¾ä¸åˆ°æª”æ¡ˆï¼Ÿ**

A: è«‹ç¢ºèªå·²åŸ·è¡Œ `source ~/catkin_ws/devel/setup.bash` ä¸¦ä¸”æª”æ¡ˆè·¯å¾‘æ­£ç¢ºã€‚

**Q: RViz ç„¡æ³•é¡¯ç¤ºè³‡æ–™ï¼Ÿ**

A: æª¢æŸ¥ Fixed Frame æ˜¯å¦è¨­å®šç‚º "map"ï¼Œä¸¦ç¢ºèªæ‰€æœ‰ Topic éƒ½æœ‰æ­£å¸¸ç™¼å¸ƒã€‚

**Q: ç¯€é»ç„¡æ³•é€šè¨Šï¼Ÿ**

A: ä½¿ç”¨ `rostopic list` æª¢æŸ¥ Topic æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨ `rostopic echo /topic_name` ç¢ºèªè³‡æ–™æ˜¯å¦æ­£å¸¸ç™¼å¸ƒã€‚

**Q: å¦‚ä½•èª¿æ•´æ©Ÿå™¨äººé€Ÿåº¦ï¼Ÿ**

A: ä¿®æ”¹ `navigation_node.py` ä¸­çš„ `max_linear_speed` èˆ‡ `max_angular_speed` åƒæ•¸ã€‚

---

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Issue èˆ‡ Pull Requestï¼

**è²¢ç»æµç¨‹**ï¼š

1. Fork æœ¬å°ˆæ¡ˆ
2. å‰µå»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

**ç¨‹å¼ç¢¼è¦ç¯„**ï¼š

- éµå¾ª PEP 8 é¢¨æ ¼æŒ‡å—
- ç‚ºå‡½æ•¸æ·»åŠ  docstring èªªæ˜
- æäº¤å‰åŸ·è¡Œæ¸¬è©¦ç¢ºä¿åŠŸèƒ½æ­£å¸¸
- æ›´æ–°ç›¸é—œæ–‡ä»¶èªªæ˜

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT License æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶



**â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°ä½ æœ‰å¹«åŠ©ï¼Œè«‹çµ¦å€‹ Starï¼**

Made with â¤ï¸ for Robotics & Automation

</div>
